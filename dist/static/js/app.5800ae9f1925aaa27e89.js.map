{"version":3,"sources":["webpack:///src/components/page-animation/index.vue","webpack:///./src/components/page-animation/index.vue?a97a","webpack:///./src/components/page-animation/index.vue","webpack:///src/components/page/header.vue","webpack:///./src/components/page/header.vue?95e5","webpack:///./src/components/page/header.vue","webpack:///src/components/page/index.vue","webpack:///./src/components/page/index.vue?7ce3","webpack:///./src/components/page/index.vue","webpack:///src/components/scroller/index.vue","webpack:///./src/components/scroller/index.vue?091b","webpack:///./src/components/scroller/index.vue","webpack:///./src/libs/plusReady.js","webpack:///./src/plugins/device/immersion.js","webpack:///./src/libs/os.js","webpack:///./src/plugins/log/index.js","webpack:///./src/plugins/native/push.js","webpack:///./src/plugins/native/update.js","webpack:///./src/plugins/native/audio.js","webpack:///./src/plugins/native/pay.js","webpack:///./src/plugins/native/barcode.js","webpack:///./src/plugins/native/img-base64.js","webpack:///./src/plugins/native/compress-image.js","webpack:///./src/plugins/native/camera.js","webpack:///./src/plugins/native/upload.js","webpack:///./src/plugins/native/gallery.js","webpack:///./src/plugins/native/index.js","webpack:///./src/plugins/native/moveTaskToBack.js","webpack:///./src/plugins/native/geolocation.js","webpack:///./src/plugins/native/clip.js","webpack:///./src/plugins/vue-event-bus/index.js","webpack:///./src/plugins/vue-hook/index.js","webpack:///./src/tools/debug.js","webpack:///./src/index.js","webpack:///./src/plugins/device/index.js","webpack:///./src/plugins/history/index.js","webpack:///./src/demo/router/index.js","webpack:///./src/demo/App.vue?901e","webpack:///./src/demo/App.vue","webpack:///src/demo/App.vue","webpack:///./src/demo/main.js","webpack:///./src/demo/assets/js/log.js","webpack:///./src/tools/date/format.js"],"names":["page_animation","payload","meta","_this","this","handler","back","computed","extends_default","Object","vuex_esm","direction","scrollTop","_this2","firstChild","el","duration","methods","TouchInput","DIRECTION_HORIZONTAL","onPanstart","onPanmove","onPanend","done","_this3","preventDefault","e","clientWidth","_this4","scale","_this5","translateX","opacity","event","_this6","moveTaskToBack","components_page_animation","render","_vm","_h","$createElement","_c","_self","ref","staticClass","_v","attrs","css","on","before-enter","beforeEnter","enter","after-enter","afterEnter","before-leave","beforeLeave","leave","after-leave","afterLeave","staticRenderFns","src_components_page_animation","__webpack_require__","normalizeComponent","ssrContext","header","path","default","options","backgroundColor","page_header","config","style","click","onBack","_t","class","blue","_e","color","_s","title","components_page_header","header_normalizeComponent","page","getHeadAndFeetHeight","onScroll","onRecoveryScroll","vhHeader","top","bottom","offsetHeight","components_page","slot","_m","src_components_page","page_normalizeComponent","scroller","hammerHandler","content","up","DIRECTION_VERTICAL","onPanStart","onPanMove","onPanEnd","deltaY","onRefresh","onReset","damp","limit","slideY","onLoading","delay","components_scroller","text","directives","name","rawName","value","down","disable","expression","src_components_scroller","scroller_normalizeComponent","plusReady","window","plus","document","addEventListener","android","device_immersion","immersed","ms","exec","navigator","userAgent","length","parseFloat","os","ua","match","version","isBadAndroid","test","appVersion","iphone","ios","replace","ipad","isIos","libs_os","openDatabase","console","log","db","init","promise_default","a","resolve","reject","transaction","context","executeSql","err","write","error","stringify_default","time","format_default","Date","data","query","tx","result","arr","json","i","rows","defineProperty_default","JSON","parse","item","push","reverse","empty","plugins_log","install","Vue","prototype","$log","native_push","createMessage","option","assign_default","cover","pushCallback","cb","msg","update_server","checkUpdate","xhr","j","runtime","getProperty","appid","info","curVer","inf","srvVer","ov","nv","ova","split","nva","so","no","parseInt","sn","nn","indexOf","compareVersion","nativeUI","confirm","note","wgtUrl","index","url","showWaiting","downloader","createDownload","filename","d","status","closeWaiting","alert","restart","code","message","start","net","XMLHttpRequest","onreadystatechange","readyState","str","responseText","substr","open","send","audio","undefined","playCompleted","playList","self","main","runtimeMainActivity","importClass","createUtility","play","createSynthesizer","synthesizerListener","implements","onEvent","arg0","arg1","arg2","arg3","onSpeakBegin","onSpeakPaused","onSpeakResumed","onBufferProgress","percent","beginPos","endPos","onSpeakProgress","onCompleted","splice","startSpeaking","playListener","arguments","AVSpeechUtterance","voice","import","voiceWithLanguage","utterance","speechUtteranceWithString","plusSetAttribute","setVoice","speakUtterance","stop","pays","native_pay","payment","channel","order","request","vue_esm","$vux","toast","getChannels","channels","id","scan","native_barcode","scanCode","flash","barcode","Barcode","QR","frameColor","scanbarColor","setFlash","onmarked","type","onerror","cancel","close","img_base64","src","io","resolveLocalFileSystemURL","entry","reader","file","FileReader","onloadend","target","readAsDataURL","compress_image","max","img","exif_default","getData","Orientation","getTag","rotate","width","height","Max","zip","compressImage","dst","quality","format","overwrite","base64","cmr","wt","native_camera","captureImage","camera","getCamera","stopVideoCapture","upload_wt","gallery_wt","native_native","update","getTime","pay","upload","server","num","bluebird_default","convertAbsoluteFileSystem","task","uploader","createUpload","method","timeout","retry","state","ret","abort","addFile","key","progress","Math","round","uploadedSize","totalSize","setTitle","batchUpload","pathArray","reduce","total","fileName","then","contents","catch","geolocation","getCurrentPosition","provider","_ref","coords","coordsType","timestamp","address","addresses","clip","get","clipValue","Context","getSystemService","CLIPBOARD_SERVICE","invoke","generalPasteboard","valueForPasteboardType","toString","set","val","setValueforPasteboardType","gallery","pick","slice","toLowerCase","filter","multiple","plugins_native","$native","native","VueEventBus","eventHub","mixin","mounted","events","$options","eventBus","eventName","$on","bind","$bus","$emit","strategies","optionMergeStrategies","use","vue_event_bus","VueHook","$nextTick","ready","forEach","activated","history","reset","$data","forward","warn","formatComponentName","vue_hook","generateComponentTrace","hasConsole","classifyRE","vm","trace","includeFile","$root","cid","_isVue","constructor","_componentTag","__file","c","toUpperCase","$parent","tree","currentRecursiveSequence","last","map","n","res","repeat","Array","isArray","join","fastclick_default","attach","body","components","src_0","opts","component","store","registerModule","navigation","mutations","updateOs","updateNavigation","updateVersion","actions","commit","device","router","isLoading","firstOpen","record","activate","SET_LOADING_STATUS","SET_DIRECTION","SET_FIRST_OPEN","SET_RECORD","SET_ACTIVATE","onHistory","dispatch","from","matched","instances","$el","to","onHistoryPush","concat","onHistoryRemove","subscript","Number","beforeEach","next","afterEach","setTimeout","plugins_history","line","errorHandler","warnMsg","Promise","rejected","remarks","vue_router_esm","routes","children","demo_router","demo_App","src_demo_App","App_normalizeComponent","productionTip","hook","onRejected","main_store","Store","strict","template","App","module","exports","date","fmt","o","M+","getMonth","D+","getDate","h+","getHours","H+","m+","getMinutes","s+","getSeconds","q+","floor","S","getMilliseconds","k","RegExp","$1","getFullYear","0","1","2","3","4","5","6","getDay"],"mappings":"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","file":"static/js/app.5800ae9f1925aaa27e89.js","sourcesContent":["<template>\n  <div ref=\"page\" class=\"page-touch\">\n    <!-- 实现右滑返回的历史页面 -->\n    <div class=\"page back\" ref=\"back\"></div>\n    <!-- end -->\n    <!-- 返回阴影 -->\n    <div class=\"page-shadow-effect\" ref=\"shadow\"></div>\n    <transition\n    @before-enter=\"beforeEnter\"\n    @enter=\"enter\"\n    @after-enter=\"afterEnter\"\n    @before-leave=\"beforeLeave\"\n    @leave=\"leave\"\n    @after-leave=\"afterLeave\"\n    :css=\"false\">\n      <keep-alive>\n        <router-view class=\"page\"></router-view>\n      </keep-alive>\n    </transition>\n  </div>\n</template>\n\n<script>\nimport {\n  mapState,\n  mapMutations\n} from 'vuex'\nimport Velocity from 'velocity-animate'\nimport Hammer from 'hammerjs'\nexport default {\n  name: 'vh-page-animation',\n  beforeCreate () {\n    // 在vuex创建page\n    this.$store.registerModule('page', {\n      state: {\n        isBack: false, // 是否允许返回\n        isDragBack: false, // 是否支持拖拽返回\n        isTransitionAfter: true // 动画完成后\n      },\n      mutations: {\n        SET_IS_DRAG_BACK (state, payload) {\n          state.isDragBack = payload\n        },\n        SET_IS_BACK (state, payload) {\n          state.isBack = payload\n        },\n        SET_IS_TRANSITION_AFTER (state, payload) {\n          state.isTransitionAfter = payload\n        }\n      }\n    })\n    // 设置meta\n    var meta = document.createElement('meta')\n    meta.name = 'viewport'\n    meta.content = 'user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1'\n    document.getElementsByTagName('head')[0].appendChild(meta)\n  },\n  mounted () {\n    this.$nextTick(() => {\n      this.handler()\n      setTimeout(() => {\n        this.$bus('onTransitionAfter')\n      })\n    })\n    this.back()\n  },\n  data () {\n    return {\n      duration: 0.4 * 1000, // 动画持续时间\n      leaveTarget: '', // 离开页面目标\n      enterTarget: '', // 进入页面目标\n      translateX: '100%',\n      backEl: '', // 历史页面对象\n      isBack: false, // 是否正在返回\n      isPanBack: false // 是否正在滑动返回\n    }\n  },\n  computed: {\n    ...mapState(['history', 'device', 'page']),\n    transition () {\n      return [this.animation + 'In', this.animation + 'Out']\n    }\n  },\n  watch: {\n    'history.direction' (direction) {\n      switch (direction) {\n        case 'forward':\n          this.transitionName = this.transition[0]\n          break\n        case 'reverse':\n          this.transitionName = this.transition[1]\n          break\n        default:\n      }\n    },\n    'history.record' (record) {\n      if (record.length > 1) {\n        // this.backEl = record[record.length - 2].el.firstChild.cloneNode(true)\n        this.backEl = {\n          el: record[record.length - 2].el.cloneNode(true),\n          scrollTop: record[record.length - 2].instances.$children[0].scrollTop\n        }\n      } else {\n        this.backEl = ''\n      }\n    },\n    backEl (backEl) {\n      setTimeout(() => {\n        if (this.$refs.back && this.$refs.back.firstChild) {\n          this.$refs.back.removeChild(this.$refs.back.firstChild)\n        }\n        if (backEl && this.$refs.back) {\n          this.$refs.back.appendChild(backEl.el)\n          if (backEl.scrollTop) {\n            setTimeout(() => {\n              this.$refs.back.getElementsByClassName('vh-frame-main')[0].scrollTop = backEl.scrollTop\n            }, 0)\n          }\n        }\n      }, this.duration)\n    }\n  },\n  methods: {\n    ...mapMutations(['SET_IS_DRAG_BACK', 'SET_IS_TRANSITION_AFTER']),\n    handler () {\n      var hammer = new Hammer(this.$refs.page, {\n        // touchAction: 'none',\n        inputClass: Hammer.TouchInput,\n        recognizers: [\n          [Hammer.Pan, {\n            direction: Hammer.DIRECTION_HORIZONTAL,\n            threshold: 1\n          }]\n        ]\n      })\n      hammer.on('panstart', this.onPanstart)\n      hammer.on('panmove', this.onPanmove)\n      hammer.on('panend', this.onPanend)\n    },\n    // 开始进来\n    beforeEnter (el) {\n      el.removeAttribute('style')\n      if (this.history.direction === 'forward') {\n        el.style.transform = 'translate3d(0, 100%, 0)'\n      }\n      this.SET_IS_TRANSITION_AFTER(false)\n    },\n    // 进入时\n    enter (el, done) {\n      this.enterTarget = {\n        el: el,\n        done: done\n      }\n      switch (this.history.direction) {\n        case 'forward':\n          // 控制右边页面\n          Velocity(el, {\n            translateX: ['0%', '100%']\n          }, {\n            duration: this.duration,\n            complete: () => {\n              el.removeAttribute('style')\n              done()\n            }\n          })\n          this.onAnimateShadow(['0%', '100%'], ['1', '0'], this.duration)\n          break\n        case 'reverse':\n          // 控制左边页面\n          if (this.isPanBack) {\n            el.removeAttribute('style')\n            done()\n          } else {\n            el.style.zIndex = '-1'\n            if (this.device.os.ios) {\n              Velocity(el, {\n                translateX: ['0%', '-20%']\n              }, {\n                duration: this.duration,\n                complete: () => {\n                  el.removeAttribute('style')\n                  done()\n                }\n              })\n            } else {\n              setTimeout(() => {\n                el.removeAttribute('style')\n                done()\n              }, this.duration)\n            }\n          }\n          break\n        default:\n      }\n    },\n    // 进入后\n    afterEnter () {\n      this.isPanBack = false\n      this.SET_IS_TRANSITION_AFTER(true)\n      setTimeout(() => {\n        this.$bus('onTransitionAfter')\n      }, 100)\n    },\n    // 开始离开\n    beforeLeave (el) {\n      el.removeAttribute('style')\n    },\n    // 离开时\n    leave (el, done) {\n      switch (this.history.direction) {\n        case 'forward':\n          // 控制左边页面\n          el.style.zIndex = '-1'\n          if (this.device.os.ios) {\n            Velocity(el, {\n              translateX: ['-20%', '0%']\n            }, {\n              duration: this.duration,\n              complete: () => {\n                done()\n              }\n            })\n          } else {\n            setTimeout(() => {\n              done()\n            }, this.duration)\n          }\n          break\n        case 'reverse':\n          // 控制右边页面\n          if (this.isPanBack) {\n            done()\n          } else {\n            Velocity(el, {\n              translateX: ['100%', '0%']\n            }, {\n              duration: this.duration,\n              complete: () => {\n                done()\n              }\n            })\n            this.onAnimateShadow(['100%', '0%'], ['0', '1'], this.duration)\n          }\n          break\n        default:\n      }\n    },\n    // 离开后\n    afterLeave (el) {\n    },\n    // 滑动开始\n    onPanstart (e) {\n      if (!this.isBack && this.page.isDragBack && ((e.direction === 4) && (Math.abs(e.angle) < 20)) && this.backEl) {\n        this.enterTarget.el.style.touchAction = 'none'\n        e.preventDefault()\n        this.isBack = true\n        this.onPanmove(e)\n      }\n    },\n    // 滑动中\n    onPanmove (e) {\n      if (this.isBack) {\n        e.preventDefault()\n        let scale = e.deltaX / document.body.clientWidth\n        if (scale < 0) {\n          scale = 0\n        }\n        if (this.device.os.ios) {\n          this.$refs.back.style.transform = `translate3d(${scale * 100 * 0.2 - 20}%, 0, 0)`\n        }\n        this.enterTarget.el.style.transform = `translate3d(${scale * 100}%, 0, 0)`\n        this.onAnimateShadow(scale * 100, (1 - scale) * 1, 0)\n      }\n    },\n    // 滑动结束\n    onPanend (e) {\n      if (this.isBack) {\n        e.preventDefault()\n        let scale = e.deltaX / document.body.clientWidth\n        let back, // 是否返回\n          backTranslateX, // 返回页面的位置\n          enterTranslateX // 当前页面的位置\n        if (scale < 0.5 && e.overallVelocityX < 0.4) {\n          back = false\n          enterTranslateX = '0%'\n          backTranslateX = '-20%'\n          if (scale < 0) scale = 0\n        } else {\n          this.isPanBack = true\n          back = true\n          enterTranslateX = '100%'\n          backTranslateX = '0%'\n        }\n        let duration = 0 // 动画时间\n        if (back) {\n          duration = Math.abs(this.duration * (1 - scale))\n        } else {\n          duration = Math.abs(this.duration * scale)\n        }\n        Velocity(this.enterTarget.el, {\n          translateX: [enterTranslateX, `${scale * 100}%`]\n        }, {\n          duration: duration,\n          complete: () => {\n            if (back) {\n              if (this.history.record.length > 1) {\n                this.$router.push(this.history.record[this.history.record.length - 2])\n              }\n            }\n            setTimeout(() => {\n              this.isBack = false\n            }, 0)\n            this.SET_IS_DRAG_BACK(true)\n          }\n        })\n        this.onAnimateShadow([enterTranslateX, `${scale * 100}%`], '0', duration)\n        if (this.device.os.ios) {\n          Velocity(this.$refs.back, {\n            translateX: [backTranslateX, `${scale * 100 * 0.2 - 20}%`]\n          }, {\n            duration: duration\n          })\n        }\n      }\n    },\n    // 控制阴影移动\n    onAnimateShadow (translateX, opacity, duration) {\n      if (duration === 0) {\n        this.$refs.shadow.style.transform = `translate3d(${translateX}%, 0, 0)`\n        this.$refs.shadow.style.opacity = opacity\n      } else {\n        Velocity(this.$refs.shadow, {\n          translateX: translateX,\n          opacity\n        }, {\n          duration: duration,\n          complete: () => {\n            this.$refs.shadow.removeAttribute('style')\n          }\n        })\n      }\n    },\n    plusReady (event) {\n      if (window.plus) {\n        event()\n      } else {\n        document.addEventListener('plusready', event, false)\n      }\n    },\n    back () {\n      this.plusReady(() => {\n        window.plus.key.addEventListener('backbutton', () => {\n          if (this.isBack) return\n          if (!this.page.isBack) {\n            // 把应用切换到后台运行\n            this.$native.moveTaskToBack()\n          } else {\n            if (this.history.record.length > 1) {\n              this.$router.push(this.history.record[this.history.record.length - 2])\n            }\n          }\n        }, false)\n      })\n    }\n  }\n}\n</script>\n<style>\n html,body {\n  width:100%;\n  height:100%;\n  overflow: hidden;\n  padding: 0;\n  margin: 0;\n }\n</style>\n\n<style scoped>\n  .page-touch {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    overflow: hidden;\n  }\n  .page {\n    width: 100%;\n    height: 100%;\n    box-sizing: border-box;\n    position: absolute !important;\n    padding: 0;\n    margin: 0;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n  }\n  .back {\n    z-index: -1;\n    /* transform: translate3d(-100%, 0, 0); */\n  }\n  .page-shadow-effect {\n    position: absolute;\n    top: 0;\n    width: 100%;\n    bottom: 0;\n    /* z-index: -1; */\n    content: '';\n    opacity: 1;\n    right: 100%;\n    background: linear-gradient(to right, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0) 96%, rgba(0, 0, 0, 0.2) 100%);\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/page-animation/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"page\",staticClass:\"page-touch\"},[_c('div',{ref:\"back\",staticClass:\"page back\"}),_vm._v(\" \"),_c('div',{ref:\"shadow\",staticClass:\"page-shadow-effect\"}),_vm._v(\" \"),_c('transition',{attrs:{\"css\":false},on:{\"before-enter\":_vm.beforeEnter,\"enter\":_vm.enter,\"after-enter\":_vm.afterEnter,\"before-leave\":_vm.beforeLeave,\"leave\":_vm.leave,\"after-leave\":_vm.afterLeave}},[_c('keep-alive',[_c('router-view',{staticClass:\"page\"})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1cde8d15\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/page-animation/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1cde8d15\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1cde8d15\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1cde8d15\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1cde8d15\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/page-animation/index.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"hamal-header\" :style=\"hamalHeaderStyle\" v-if=\"config.show\">\n    <div class=\"hamal-header-left\" @click=\"onBack\">\n      <slot name=\"left\">\n        <i class=\"left-arrow\" v-if=\"config.back\" :class=\"{blue:config.backgroundColor == '#fff'|| config.backgroundColor == '#ffffff'}\"></i>\n        <span class=\"text\" :style=\"{color: config.color}\">\n          <slot>\n            {{config.title}}\n          </slot>\n        </span>\n      </slot>\n    </div>\n    <div class=\"hamal-header-right\" :style=\"{color: config.color}\">\n      <slot name=\"header-right\"></slot>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapMutations } from 'vuex'\nexport default {\n  name: 'vh-page-header',\n  mounted () {\n    this.$nextTick(() => {\n    })\n  },\n  components: {\n  },\n  created () {\n    this.path = this.$route.path\n  },\n  eventBus: {\n    onTransitionAfter () {\n      if ((this.history.activate === this.path)) {\n        if (this.config.back) {\n          this.SET_IS_BACK(true)\n        } else {\n          this.SET_IS_BACK(false)\n        }\n      }\n    }\n  },\n  data () {\n    return {\n      path: '',\n      default: {\n        back: true,\n        backgroundColor: '#fff',\n        color: '#000',\n        show: true\n      }\n    }\n  },\n  watch: {},\n  computed: {\n    ...mapState(['device', 'history']),\n    config () {\n      return {\n        ...this.default,\n        ...this.options\n      }\n    },\n    hamalHeaderStyle () {\n      return {\n        backgroundColor: this.config.backgroundColor,\n        paddingTop: this.device.navigation.height + 'px'\n      }\n    }\n  },\n  props: {\n    options: {\n      type: Object,\n      default: () => {\n        return {}\n      }\n    }\n  },\n  methods: {\n    ...mapMutations(['SET_IS_BACK']),\n    onBack () {\n      if (!this.config.back) return\n      if (this.history.record.length > 1) {\n        this.$router.push(this.history.record[this.history.record.length - 2])\n      }\n    }\n  }\n}\n</script>\n<style scoped lang=\"less\">\n@theme-color: #0099FF;\n@menu-width: 60px;\n@menu-height: 44px;\n.hamal-header {\n  position: relative;\n  height: @menu-height;\n  line-height: @menu-height;\n  display: flex;\n  text-align: center;\n  justify-content: space-between;\n  padding: 0 15px;\n  font-size: 17px;\n  box-sizing: content-box;\n  .hamal-header-left,\n  .hamal-header-right {\n    position: relative;\n    display: flex;\n    align-items: center;\n    .text {\n      color: @theme-color;\n    }\n  }\n  .hamal-header-left:active{\n    opacity: 0.5;\n  }\n}\n// .hamal-header:after {\n//   content: '';\n//   position: absolute;\n//   background-color: #c4c4c4;\n//   display: block;\n//   z-index: 15;\n//   top: auto;\n//   right: auto;\n//   bottom: 0;\n//   left: 0;\n//   height: 1px;\n//   width: 100%;\n//   -webkit-transform-origin: 50% 100%;\n//   transform-origin: 50% 100%;\n//   transform: scaleY(.5);\n// }\n\n// 箭头部分\n.left-arrow {\n  width: 31px;\n  height: 44px;\n}\n\n.blue.left-arrow:before {\n  background-color: @theme-color;\n}\n.blue.left-arrow:after {\n  border-right: 2px solid @theme-color;\n  border-top: 2px solid @theme-color;\n}\n\n.left-arrow:before {\n  content: '';\n  display: block;\n  width: 14px;\n  height: 2px;\n  background-color: #fff;\n  position: absolute;\n  top: calc(50% - 1px);\n  left: 2.5px;\n}\n\n.left-arrow:after {\n  content: '';\n  display: block;\n  width: 10px;\n  height: 10px;\n  border-right: 2px solid #fff;\n  border-top: 2px solid #fff;\n  // 箭头方向可以自由切换角度\n  transform: rotate(-135deg);\n  transform-origin:50% 50%;\n  position: absolute;\n  top: calc(50% - 6px);\n  left: 2.5px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/page/header.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.config.show)?_c('div',{staticClass:\"hamal-header\",style:(_vm.hamalHeaderStyle)},[_c('div',{staticClass:\"hamal-header-left\",on:{\"click\":_vm.onBack}},[_vm._t(\"left\",[(_vm.config.back)?_c('i',{staticClass:\"left-arrow\",class:{blue:_vm.config.backgroundColor == '#fff'|| _vm.config.backgroundColor == '#ffffff'}}):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"text\",style:({color: _vm.config.color})},[_vm._t(\"default\",[_vm._v(\"\\n          \"+_vm._s(_vm.config.title)+\"\\n        \")])],2)])],2),_vm._v(\" \"),_c('div',{staticClass:\"hamal-header-right\",style:({color: _vm.config.color})},[_vm._t(\"header-right\")],2)]):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0df7f6f0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/page/header.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0df7f6f0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./header.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./header.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./header.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0df7f6f0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./header.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0df7f6f0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/page/header.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"vh-frame\" ref=\"page\">\n    <!-- 页头 -->\n    <header ref=\"header\">\n      <slot name=\"header\">\n        <vh-header :options=\"config.header\">\n          <slot name=\"header-title\"></slot>\n          <slot name=\"header-right\" slot=\"header-right\"></slot>\n        </vh-header>\n      </slot>\n    </header>\n    <!-- 页头 end-->\n    <!-- 内容 -->\n    <div class=\"vh-frame-main\" :style=\"mainStyle\" ref=\"main\">\n      <slot v-if=\"show\">\n        <div class=\"main\">\n          <p>没有数据</p>\n        </div>\n      </slot>\n      <div class=\"load\" v-else>\n        <span>正在加载</span>\n      </div>\n    </div>\n    <!-- 内容 end-->\n    <!-- 页脚 -->\n    <footer ref=\"footer\">\n      <slot name=\"footer\"></slot>\n    </footer>\n    <!-- 页脚 end-->\n  </div>\n</template>\n\n<script>\nimport vhHeader from './header.vue'\nimport {\n  mapState,\n  mapMutations\n} from 'vuex'\nexport default {\n  name: 'vh-page',\n  created () {\n    this.path = this.$route.path\n    this.config.lazy && (this.show = false)\n  },\n  mounted () {\n    this.$nextTick(() => {\n      this.getHeadAndFeetHeight()\n      this.onScroll()\n    })\n  },\n  forward () {\n  },\n  back () {\n    this.onRecoveryScroll()\n  },\n  components: {\n    vhHeader\n  },\n  data () {\n    return {\n      path: '',\n      default: {\n        back: true,\n        backgroundColor: '#fff',\n        lazy: false,\n        header: {}\n      },\n      main: {\n        top: '44',\n        bottom: '0'\n      },\n      scrollTop: 0,\n      show: true\n    }\n  },\n  activated () {},\n  watch: {},\n  computed: {\n    ...mapState(['device', 'history']),\n    config () {\n      return {\n        ...this.default,\n        ...this.options\n      }\n    },\n    mainStyle () {\n      return {\n        top: `${this.main.top}px`,\n        bottom: `${this.main.bottom}px`,\n        backgroundColor: this.config.backgroundColor\n      }\n    }\n  },\n  eventBus: {\n    onTransitionAfter () {\n      if ((this.history.activate === this.path)) {\n        if (this.config.back) {\n          this.SET_IS_DRAG_BACK(true)\n        } else {\n          this.SET_IS_DRAG_BACK(false)\n        }\n        this.config.lazy && (this.show = true)\n      }\n    }\n  },\n  props: {\n    options: {\n      type: Object,\n      default: () => {\n        return {}\n      }\n    }\n  },\n  methods: {\n    ...mapMutations(['SET_IS_DRAG_BACK']),\n    // 获取头和脚高度\n    getHeadAndFeetHeight () {\n      if (!this.fullScreen) {\n        this.main = {\n          top: this.$refs.header.offsetHeight,\n          bottom: this.$refs.footer.offsetHeight\n        }\n      }\n    },\n    // 记录滚动位置\n    onScroll () {\n      if (!this.$refs.main) return\n      this.$refs.main.onscroll = (e) => {\n        this.scrollTop = e.target.scrollTop\n      }\n    },\n    // 恢复滚动位置\n    onRecoveryScroll () {\n      if (!this.$refs.main) return\n      if (this.scrollTop) {\n        this.$refs.main.scrollTop = this.scrollTop\n      }\n    }\n  }\n}\n</script>\n<style scoped>\n  .vh-frame {\n    height: 100%;\n    width: 100%;\n    position: relative;\n    user-select: none;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    outline: none;\n  }\n\n  header {\n    z-index: 10;\n    position: absolute;\n    top: 0;\n    width: 100%;\n    background: #fff;\n    overflow: hidden;\n  }\n\n  .vh-frame-main {\n    top: 44px;\n    bottom: 0;\n    box-sizing: border-box;\n    position: absolute;\n    width: 100%;\n    /* touch-action: pan-y; */\n    overflow: auto;\n    -webkit-overflow-scrolling: touch;\n    /* user-zoom: none; */\n    -webkit-user-drag: none;\n    background-color: #fff;\n  }\n  .main {\n    text-align: center;\n    height: 50px;\n    color: #666;\n    display: flex;\n    justify-content: center;\n    align-items:center;\n  }\n\n  footer {\n    position: absolute;\n    width: 100%;\n    bottom: 0;\n    height: auto;\n    z-index: 10;\n    background: #fff;\n    overflow: hidden;\n  }\n  .load {\n    text-align: center;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/page/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"page\",staticClass:\"vh-frame\"},[_c('header',{ref:\"header\"},[_vm._t(\"header\",[_c('vh-header',{attrs:{\"options\":_vm.config.header}},[_vm._t(\"header-title\"),_vm._v(\" \"),_vm._t(\"header-right\",null,{slot:\"header-right\"})],2)])],2),_vm._v(\" \"),_c('div',{ref:\"main\",staticClass:\"vh-frame-main\",style:(_vm.mainStyle)},[(_vm.show)?_vm._t(\"default\",[_vm._m(0)]):_c('div',{staticClass:\"load\"},[_c('span',[_vm._v(\"正在加载\")])])],2),_vm._v(\" \"),_c('footer',{ref:\"footer\"},[_vm._t(\"footer\")],2)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main\"},[_c('p',[_vm._v(\"没有数据\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6ac114d3\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/page/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6ac114d3\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6ac114d3\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6ac114d3\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/page/index.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <!-- 下拉模块 -->\n    <div class=\"scroller-top\" ref=\"up\">\n      <!-- <spinner v-show=\"loadingStatus!=1\" type=\"ios-small\"></spinner> -->\n      <p>{{config.up.text}}</p>\n    </div>\n    <!-- 下拉模块 end-->\n    <!-- 内容 -->\n    <div class=\"vh-content\" ref=\"content\">\n      <slot>\n        <div class=\"scroller-main\">\n          <p>没有数据</p>\n        </div>\n      </slot>\n      <!-- 加载更多模块 end-->\n      <div v-show=\"!config.down.disable\" class=\"scroller-bottom\">\n        <!-- <img src=\"\" alt=\"\" /> -->\n        <p>{{config.down.text}}</p>\n      </div>\n      <!-- 加载更多模块 end -->\n    </div>\n    <!-- 内容 end-->\n  </div>\n</template>\n\n<script>\nimport Hammer from 'hammerjs'\nimport Velocity from 'velocity-animate'\nexport default {\n  name: 'vh-scroller',\n  mixins: [],\n  components: {},\n  data () {\n    return {\n      default: {\n        el: {\n          up: '',\n          down: ''\n        }, // 目标dom\n        currentAction: '', // 当前操作 down up\n        deltaY: 0, // 位置\n        deviationY: 0, // 偏移量\n        disable: false, // 禁用\n        run: false, // 运行\n        damp: 0.6, // 阻尼\n        up: {\n          deltaY: 60, // 悬停位置\n          trigger: 50, // 触发位置\n          text: '下拉刷新',\n          delay: 500, // 延时执行动画\n          duration: 300, // 动画时间\n          loading: false // 加载中\n        },\n        down: {\n          deltaY: 60, // 悬停位置\n          trigger: 50, // 触发位置\n          text: '',\n          loading: false, // 加载中\n          pause: false, // 暂停\n          disable: true // 禁用\n        }\n      },\n      scrollTop: 0\n    }\n  },\n  computed: {\n    config () {\n      return {\n        ...this.default,\n        ...this.options\n      }\n    }\n  },\n  props: {\n    options: {\n      type: Object,\n      default: () => {\n        return {}\n      }\n    }\n  },\n  watch: {},\n  created () {},\n  mounted () {\n    this.$nextTick(() => {\n      this.onScroll()\n      this.hammerHandler()\n    })\n  },\n  updated () {},\n  filters: {},\n  methods: {\n    // hammer处理器\n    hammerHandler () {\n      this.config.el.main = this.$refs.content\n      this.config.el.up = this.$refs.up\n      var hammer = new Hammer(this.$refs.content, {\n        touchAction: 'pan-y',\n        inputClass: Hammer.TouchInput,\n        recognizers: [\n          [Hammer.Pan, {\n            direction: Hammer.DIRECTION_VERTICAL,\n            threshold: 1\n          }]\n        ]\n      })\n      hammer.on('panstart', this.onPanStart)\n      hammer.on('panmove', this.onPanMove)\n      hammer.on('panend', this.onPanEnd)\n    },\n    // 滑动开始\n    onPanStart (event) {\n      if (this.config.disable) return\n      if (this.config.run) return\n      event.preventDefault()\n      this.config.run = true\n      this.onPanMove(event)\n    },\n    // 滑动中\n    onPanMove (event) {\n      if (this.config.disable) return\n      if (event.deltaY > 0) {\n        if (this.scrollTop !== 0) {\n          this.config.deviationY = event.deltaY\n        } else {\n          event.preventDefault()\n          this.pandownHandler(event)\n        }\n      }\n    },\n    // 滑动结束\n    onPanEnd (event) {\n      if (this.config.disable) return\n      this.config.deviationY = 0\n      if (this.config.deltaY > this.config.up.trigger) {\n        this.onRefresh()\n      } else {\n        this.onReset()\n      }\n    },\n    // 下拉处理器\n    pandownHandler (event) {\n      let limit = this.config.up.deltaY\n      // 计算位置\n      let slideY = (event.deltaY - this.config.deviationY) * this.config.damp\n      if (slideY > limit) {\n        slideY = limit\n      }\n      if (slideY > this.config.up.trigger) {\n        this.config.up.text = '释放加载'\n      } else {\n        this.config.up.text = '下拉加载'\n      }\n      this.onMove(slideY)\n      this.config.deltaY = slideY\n    },\n    // 上拉处理器\n    panupHandler (e) {\n      if (this.config.down.loading) return\n      if (e.target.clientHeight + e.target.scrollTop >= e.target.scrollHeight - this.config.down.deltaY) {\n        this.onLoading()\n      }\n    },\n    // 移动main\n    onMove (slideY) {\n      let style = `translate3d(0, ${slideY}px, 0)`\n      this.config.el.up.style.transform = style\n      this.config.el.main.style.transform = style\n    },\n    // 重置位置\n    onReset () {\n      if (this.config.up.loading) {\n        this.config.up.text = '刷新成功'\n        Velocity(this.config.el.main, {\n          translateY: [0, `${this.config.deltaY}px`]\n        }, {\n          duration: this.config.up.duration,\n          delay: this.config.up.delay\n        })\n        Velocity(this.config.el.up, {\n          translateY: [0, `${this.config.deltaY}px`]\n        }, {\n          duration: this.config.up.duration,\n          delay: this.config.up.delay,\n          complete: () => {\n            this.config.up.loading = false\n            this.config.disable = false\n            this.config.run = false\n          }\n        })\n        this.config.deltaY = 0\n      }\n    },\n    // 触发刷新\n    onRefresh () {\n      this.config.up.text = '正在加载'\n      this.config.up.loading = true\n      this.$emit('on-refresh')\n      // console.log('触发刷新')\n    },\n    // 触发加载更多\n    onLoading () {\n      this.config.down.text = '正在加载更多'\n      this.config.down.loading = true\n      this.$emit('on-loading')\n      // console.log('触发加载更多')\n    },\n    // 暂停加载更多\n    onPauseLoading () {\n      this.config.down.text = '我是有底线的'\n      this.config.down.pause = true\n    },\n    // 恢复加载更多\n    onRecoveryLoading () {\n      this.config.down.pause = false\n      this.config.down.loading = false\n      this.config.down.disable = false\n      this.config.down.text = '上拉加载更多'\n    },\n    // 记录滚动位置\n    onScroll () {\n      this.$refs.content.onscroll = (e) => {\n        this.scrollTop = e.target.scrollTop\n        this.panupHandler(e)\n      }\n    }\n  }\n}\n</script>\n\n<style lang='less' scoped>\n  .vh-content {\n    // margin-top: -60px;\n    box-sizing: border-box;\n    position: absolute;\n    top: 0px;\n    bottom: 0px;\n    width: 100%;\n    overflow: auto;\n    -webkit-overflow-scrolling: touch;\n    -webkit-user-drag: none;\n  }\n  .loading {\n    text-align: center;\n    margin-top: 30%;\n    color: #666\n  }\n  .scroller-top {\n    position: absolute;\n    top: -60px;\n    width: 100%;\n    text-align: center;\n    height: 60px;\n    color: #666;\n    display: flex;\n    justify-content: center;\n    align-items:center;\n  }\n  .scroller-main {\n    text-align: center;\n    height: 50px;\n    color: #666;\n    display: flex;\n    justify-content: center;\n    align-items:center;\n  }\n  .scroller-bottom {\n    text-align: center;\n    height: 50px;\n    color: #666;\n    display: flex;\n    justify-content: center;\n    align-items:center;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/scroller/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{ref:\"up\",staticClass:\"scroller-top\"},[_c('p',[_vm._v(_vm._s(_vm.config.up.text))])]),_vm._v(\" \"),_c('div',{ref:\"content\",staticClass:\"vh-content\"},[_vm._t(\"default\",[_vm._m(0)]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.config.down.disable),expression:\"!config.down.disable\"}],staticClass:\"scroller-bottom\"},[_c('p',[_vm._v(_vm._s(_vm.config.down.text))])])],2)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"scroller-main\"},[_c('p',[_vm._v(\"没有数据\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-32a32e74\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/scroller/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-32a32e74\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-32a32e74\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-32a32e74\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/scroller/index.vue\n// module id = null\n// module chunks = ","export default function plusReady (event) {\n  if (window.plus) {\n    event()\n  } else {\n    document.addEventListener('plusready', event, false)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/libs/plusReady.js","// 判断当前系统是否是沉浸式状态，是：返回高度\nconst immersion = function () {\n  // console.log(\"Immersed-UserAgent: \"+navigator.userAgent);\n  var immersed = 0\n  var ms = (/Html5Plus\\/.+\\s\\(.*(Immersed\\/(\\d+\\.?\\d*).*)\\)/gi).exec(navigator.userAgent)\n  if (ms && ms.length >= 3) { // 当前环境为沉浸式状态栏模式\n    immersed = parseFloat(ms[2])// 获取状态栏的高度\n  }\n  return immersed\n}\n\nexport default immersion\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/device/immersion.js","let os = {}\nlet ua = navigator.userAgent\nfunction isAndroid () { // android\n  var android = ua.match(/(Android);?[\\s/]+([\\d.]+)?/)\n  if (android) {\n    os.android = true\n    os.version = android[2]\n\n    os.isBadAndroid = !(/Chrome\\/\\d/.test(window.navigator.appVersion))\n  }\n}\n\nfunction isIos () { // ios\n  var iphone = ua.match(/(iPhone\\sOS)\\s([\\d_]+)/)\n  if (iphone) { // iphone\n    os.ios = os.iphone = true\n    os.version = iphone[2].replace(/_/g, '.')\n  } else {\n    var ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/)\n    if (ipad) { // ipad\n      os.ios = os.ipad = true\n      os.version = ipad[2].replace(/_/g, '.')\n    }\n  }\n}\nisAndroid()\nisIos()\nexport default os\n\n\n\n// WEBPACK FOOTER //\n// ./src/libs/os.js","import dateFormat from '../../tools/date/format.js'\nif (!window.openDatabase) {\n  console.log('浏览器不支持webSql')\n}\nvar db = ''\nvar log = {\n  init: function () {\n    return new Promise((resolve, reject) => {\n      // 新建数据库\n      db = openDatabase('webSql', '1.0', 'web sql', 10 * 1024 * 1024)\n      // 事务 新建log表\n      db.transaction((context) => {\n        context.executeSql('CREATE TABLE IF NOT EXISTS log (error text, time text)')\n      }, (err) => {\n        reject(err)\n      }, () => {\n        resolve()\n      })\n    })\n  },\n  write: function (error) {\n    return new Promise((resolve, reject) => {\n      if (db) {\n        db.transaction((context) => {\n          if (typeof error !== 'string') {\n            try {\n              error = JSON.stringify(error)\n            } catch (e) {\n\n            }\n          }\n          var time = dateFormat(new Date(), 'YYYY-MM-DD HH:mm:ss')\n          let data = [error, time]\n          context.executeSql('INSERT INTO log (error, time) VALUES (?, ?)', data)\n        }, (err) => {\n          reject(err)\n        }, () => {\n          resolve()\n        })\n      }\n    })\n  },\n  query: function () {\n    return new Promise((resolve, reject) => {\n      if (db) {\n        db.transaction((context) => {\n          context.executeSql('SELECT * FROM log', [], (tx, result) => {\n            let arr = []\n            let json = {}\n            for (var i = 0; i < result.rows.length; i++) {\n              try {\n                json = {\n                  [i]: {\n                    error: JSON.parse(result.rows.item(i).error),\n                    time: result.rows.item(i).time\n                  }\n                }\n              } catch (e) {\n                json = {\n                  [i]: {\n                    error: result.rows.item(i).error,\n                    time: result.rows.item(i).time\n                  }\n                }\n              }\n              arr.push(json)\n            }\n            // alert(JSON.stringify(arr,null,2))\n            // console.log(result);\n            resolve(arr.reverse())\n          })\n        }, (err) => {\n          console.log(err)\n          reject(err)\n        }, () => {\n\n        })\n      }\n    })\n  },\n  empty: function () {\n    return new Promise((resolve, reject) => {\n      if (db) {\n        db.transaction((context) => {\n          context.executeSql('DELETE FROM log')\n          // context.executeSql('DROP TABLE log');\n        }, (err) => {\n          reject(err)\n        }, () => {\n          resolve()\n        })\n      }\n    })\n  }\n}\n\nexport default {\n  install (Vue) {\n    Vue.prototype.$log = log\n    Vue.$log = log\n  },\n  log: log\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/log/index.js","import plusReady from '../../libs/plusReady.js'\nlet push = {\n  createMessage: function (option) {\n    plusReady(() => {\n      let parameter = {\n        content: '',\n        payload: '',\n        option: {\n          cover: true\n        }\n      }\n      option = Object.assign({}, parameter, option)\n      window.plus.push.createMessage(option.content, option.payload, option.options)\n    })\n  },\n  pushCallback: function (cb) {\n    plusReady(() => {\n      window.plus.push.addEventListener('click', (msg) => {\n        cb(msg)\n      }, false)\n    })\n  }\n}\nexport default push\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/native/push.js","/**\n * 判断应用升级模块，从url地址下载升级描述文件到本地local路径\n * yanyilin@dcloud.io\n *\n * 升级文件为JSON格式数据，如下：\n{\n    \"appid\":\"HelloH5\",\n    \"iOS\":{\n        \"version\":\"iOS新版本号，如：1.0.0\",\n        \"note\":\"iOS新版本描述信息，多行使用\\n分割\",\n        \"url\":\"Appstore路径，如：itms-apps://itunes.apple.com/cn/app/hello-h5+/id682211190?l=zh&mt=8\"\n    },\n    \"Android\":{\n        \"version\":\"Android新版本号，如：1.0.1\",\n        \"note\":\"Android新版本描述信息，多行使用\\n分割\",\n        \"url\":\"apk文件下载地址，如：http://www.dcloud.io/helloh5p/HelloH5.apk\"\n    }\n}\n *\n */\n\nimport plusReady from '../../libs/plusReady.js'\nvar server = '' // 获取升级描述文件服务器地址\n\n/**\n * 检测程序升级\n */\nfunction checkUpdate () {\n  getUpdateData((data) => {\n    checkUpdateData(data)\n  })\n}\n\n/**\n * 检查升级数据\n */\nfunction checkUpdateData (j) {\n  window.plus.runtime.getProperty(window.plus.runtime.appid, (info) => {\n    var curVer = info.version\n    var inf = j[window.plus.os.name]\n    if (inf) {\n      var srvVer = inf.version\n      // 判断是否需要升级\n      if (compareVersion(curVer, srvVer)) {\n        // 提示用户是否升级\n        window.plus.nativeUI.confirm(inf.note, function (i) {\n          if (i.index === 0) {\n            // window.plus.runtime.openURL( inf.url );\n            downWgt(inf.url)\n          } else {}\n        }, inf.title, ['立即更新', '取消'])\n      }\n    }\n  })\n}\n\n/**\n * 从服务器获取升级数据\n */\nfunction getUpdateData (cb) {\n  var xhr = new window.plus.net.XMLHttpRequest()\n  xhr.onreadystatechange = () => {\n    switch (xhr.readyState) {\n      case 4:\n        if (xhr.status === 200) {\n          var str = xhr.responseText\n          str = str.substr(str.indexOf('{'))\n          var data = JSON.parse(str)\n          cb(data)\n        } else {\n          console.log('获取升级数据，联网请求失败：' + xhr.status)\n        }\n        break\n      default:\n        break\n    }\n  }\n  xhr.open('GET', server)\n  xhr.send()\n}\n\n/**\n * 比较版本大小，如果新版本nv大于旧版本ov则返回true，否则返回false\n * @param {String} ov\n * @param {String} nv\n * @return {Boolean}\n */\nfunction compareVersion (ov, nv) {\n  if (!ov || !nv || ov === '' || nv === '') {\n    return false\n  }\n  //   var b = false\n  var ova = ov.split('.', 4)\n  var nva = nv.split('.', 4)\n  for (var i = 0; i < ova.length && i < nva.length; i++) {\n    var so = ova[i]\n    var no = parseInt(so)\n    var sn = nva[i]\n    var nn = parseInt(sn)\n    if (nn > no || sn.length > so.length) {\n      return true\n    } else if (nn < no) {\n      return false\n    }\n  }\n  if (nva.length > ova.length && nv.indexOf(ov) === 0) {\n    return true\n  }\n}\n\n// 资源升级包下载\nfunction downWgt (wgtUrl) {\n  window.plus.nativeUI.showWaiting('正在更新,请稍候...')\n  window.plus.downloader.createDownload(wgtUrl, {\n    filename: '_doc/update/'\n  }, function (d, status) {\n    if (status === 200) {\n      console.log('更新成功：' + d.filename)\n      installWgt(d.filename) // 安装wgt包\n    } else {\n      console.log('更新失败！')\n      window.plus.nativeUI.alert('更新失败！')\n    }\n    window.plus.nativeUI.closeWaiting()\n  }).start()\n}\n// 更新应用资源\nfunction installWgt (path) {\n  window.plus.nativeUI.showWaiting('安装更新...')\n  window.plus.runtime.install(path, {}, function () {\n    window.plus.nativeUI.closeWaiting()\n    console.log('安装更新成功！')\n    window.plus.nativeUI.alert('更新完成！', function () {\n      window.plus.runtime.restart()\n    })\n  }, function (e) {\n    window.plus.nativeUI.closeWaiting()\n    console.log('安装更新失败[' + e.code + ']：' + e.message)\n    window.plus.nativeUI.alert('安装更新失败[' + e.code + ']：' + e.message)\n  })\n}\n\nexport default function update (url) {\n  plusReady(() => {\n    if (url) {\n      server = url + '?time=' + new Date().getTime()\n      checkUpdate()\n    }\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/native/update.js","import plusReady from '../../libs/plusReady.js'\nimport os from '../../libs/os.js'\n\n// let audioObj = false\n/**\n * [audio 文字转语音]\n * @param  {String} text [需要转为语音的文字]\n * @return {[type]}                   [description]\n */\nexport default {\n\n  init: function (cb) {\n    if (this.audio === undefined) {\n      this.audio = {\n        playCompleted: true,\n        playList: []\n      }\n\n      let self = this\n\n      plusReady(() => {\n        if (os.android) {\n          let main = window.plus.android.runtimeMainActivity()\n          let SpeechUtility = window.plus.android.importClass('com.iflytek.cloud.SpeechUtility')\n          SpeechUtility.createUtility(main, 'appid=' + window.plus.runtime.appid)\n          let SynthesizerPlayer = window.plus.android.importClass('com.iflytek.cloud.SpeechSynthesizer')\n          let play = SynthesizerPlayer.createSynthesizer(main, null)\n          // 事件\n          let synthesizerListener = window.plus.android.implements('com.iflytek.cloud.SynthesizerListener', {\n            onEvent: function (arg0, arg1, arg2, arg3) {\n              console.log('onEvent')\n            },\n            onSpeakBegin: function () {\n              console.log('开始阅读')\n            },\n            onSpeakPaused: function () {\n              console.log(' 暂停播放 ')\n            },\n            onSpeakResumed: function () {\n              console.log('继续播放')\n            },\n            onBufferProgress: function (percent, beginPos, endPos, info) {\n              console.log('合成进度' + percent)\n            },\n            onSpeakProgress: function (percent, beginPos, endPos) {\n              // 合成进度\n              console.log('播放进度' + percent)\n            },\n            onCompleted: function (e) {\n              // alert(\"aa\");\n              console.log('播放完毕')\n\n              if (self.audio.playList.length > 0) {\n                self.audio.playCompleted = false\n                let text = self.audio.playList[0]\n                self.audio.playList.splice(0, 1)\n\n                play.startSpeaking(text, self.audio.playListener)\n              } else {\n                self.audio.playCompleted = true\n              }\n            }\n          })\n\n          this.audio.play = play\n          this.audio.playListener = synthesizerListener\n        } else if (os.ios) {\n          let AVSpeechSynthesizer = window.plus.ios.importClass('AVSpeechSynthesizer')\n          let play = new AVSpeechSynthesizer()\n\n          this.audio.play = play\n\n          // let voice = AVSpeechSynthesisVoice.voiceWithLanguage(\"zh-CN\");\n          // let utterance =  AVSpeechUtterance.speechUtteranceWithString(text);\n          // utterance.plusSetAttribute(\"rate\",0.4);\n          // utterance.setVoice(voice);\n          // sppech.speakUtterance(utterance);\n          // 停止\n          // sppech.stopSpeakingAtBoundary(0)\n          // 暂停\n          // sppech.pauseSpeakingAtBoundary(0);\n          // 继续\n          // sppech.continueSpeaking(0);\n          // window.plus.ios.deleteObject(voice);\n          // window.plus.ios.deleteObject(utterance);\n          // window.plus.ios.deleteObject(sppech);\n        }\n        cb()\n      })\n    } else {\n      cb()\n    }\n  },\n\n  play: function (text = '收到一笔新的货款') {\n    // if(!audioObj){\n    //   audioObj = document.createElement('AUDIO')\n    // }\n    // audioObj.src=`http://tsn.baidu.com/text2audio?tok=123&tex=${text}&cuid=1231156&cod=2&lan=zh&ctp=1&pdt=1&spd=5&per=0&vol=5&pit=5`\n    // audioObj.play();\n\n    this.init(() => {\n      let play = this.audio.play\n      if (os.android) {\n        if (this.audio.playCompleted) {\n          this.audio.playCompleted = false\n          play.startSpeaking(text, this.audio.playListener)\n        } else {\n          this.audio.playList.push(text)\n        }\n      } else if (os.ios) {\n        let AVSpeechUtterance = window.plus.ios.importClass('AVSpeechUtterance')\n        let AVSpeechSynthesisVoice = window.plus.ios.import('AVSpeechSynthesisVoice')\n        let voice = AVSpeechSynthesisVoice.voiceWithLanguage('zh-CN')\n        let utterance = AVSpeechUtterance.speechUtteranceWithString(text)\n        utterance.plusSetAttribute('rate', 0.4)\n        utterance.setVoice(voice)\n        // play.stopSpeakingAtBoundary(0);//停止播放\n        play.speakUtterance(utterance)\n        // 停止\n        // play.stopSpeakingAtBoundary(0)\n        // 暂停\n        // play.pauseSpeakingAtBoundary(0);\n        // 继续\n        // play.continueSpeaking(0);\n        // window.plus.ios.deleteObject(voice);\n        // window.plus.ios.deleteObject(utterance);\n        // window.plus.ios.deleteObject(play);\n      }\n    })\n  },\n\n  stop: function () {\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/native/audio.js","import Vue from 'vue'\nimport plusReady from '../../libs/plusReady.js'\nlet pays = {} // 当前手机支持的支付方式\nlet pay = {\n  /**\n   * [payment 发起付款]\n   * @param  {String}   channel [支付方式]\n   * @param  {String}   order [订单]\n   * @param  {Function} cb      [成功回调]\n   * @param  {Function}   err     [错误回调]\n   * @return {[type]}           [description]\n   */\n  payment: function (channel, order, cb, err) {\n    plusReady(() => {\n      if (pays[channel]) {\n        window.plus.payment.request(pays[channel], order, function (result) {\n          // alert(JSON.stringify(result));\n          cb && cb(result)\n        }, function (e) {\n          if (e.message.indexOf('6001') > -1 || e.message.indexOf('62001') > -1 || e.message.indexOf('-2') > -1) {\n            Vue.$vux.toast.text(`用户取消支付`)\n          } else {\n            Vue.$vux.toast.text(`${e.message}`)\n          }\n          // alert(`[${e.code}]：${e.message}`);\n          console.log(`[${e.code}]：${e.message}`)\n          err && err(e)\n        })\n      } else {\n        console.log('不支持的支付方式:' + channel)\n      }\n    })\n  },\n  /**\n   * [getChannels 获取本机支持的支付方式]\n   * @param  {Function} cb      [成功回调]\n   * @param  {Function}   err     [错误回调]\n   * @return {[type]}           [description]\n   */\n  getChannels: function (cb, err) {\n    plusReady(() => {\n      window.plus.payment.getChannels(function (channels) {\n        for (var i in channels) {\n          var channel = channels[i]\n          // 过滤掉不支持的支付通道：暂不支持360相关支付\n          if (channel.id === 'qhpay' || channel.id === 'qihoo') {\n            continue\n          }\n          pays[channel.id] = channel\n        }\n        cb(pays)\n      }, function (e) {\n        console.log(`获取支付通道失败：${e.message}`)\n        err && err(e)\n      })\n    })\n  }\n}\nexport default pay\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/native/pay.js","import plusReady from '../../libs/plusReady.js'\n\nlet scan = ''\n/**\n * [barcode 扫码]\n * @return {[type]}    [description]\n */\nlet barcode = {\n  /**\n   * [setScanQrCode 设置扫描二维码]\n   * @param {[String]}   id    [页面dom的id]\n   * @param {[Boolean]}   flash [是否开启闪光灯]\n   * @param {Function} cb    [回调函数]\n   */\n  scanCode: function (config, flash, cb, err) {\n    plusReady(() => {\n      scan = new window.plus.barcode.Barcode(config.id, [window.plus.barcode.QR], {\n        frameColor: config.frameColor || '#04be02',\n        scanbarColor: config.scanbarColor || '#04be02'\n        // background: config.background || '#000' // 不能透明\n      })\n      scan.setFlash(flash)\n      // type码的类型\n      // result扫描结果\n      scan.onmarked = (type, result) => {\n        cb && cb(result)\n      }\n      // 错误回调\n      scan.onerror = (error) => {\n        console.log('扫一扫错误: ' + error)\n        err && err(error)\n      }\n    })\n  },\n  /**\n   * [startScanQrCode 开始识别二维码]\n   * @return {[type]} [description]\n   */\n  start: function () {\n    plusReady(() => {\n      scan.start()\n    })\n  },\n  /**\n   * [cancelScanQrCode 结束识别二维码]\n   * @return {[type]} [description]\n   */\n  cancel: function () {\n    plusReady(() => {\n      scan.cancel()\n    })\n  },\n  /**\n   * [cancelScanQrCode 关闭扫描二维码]\n   * @return {[type]} [description]\n   */\n  close: function () {\n    plusReady(() => {\n      scan.close()\n    })\n  }\n}\n\nexport default barcode\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/native/barcode.js","import plusReady from '../../libs/plusReady.js'\n// 读取base64\nfunction getImgBase64 (src, cb) {\n  plusReady(() => {\n    window.plus.io.resolveLocalFileSystemURL(src, function (entry) {\n      // Read data from file\n      var reader = null\n      entry.file(function (file) {\n        reader = new window.plus.io.FileReader()\n        reader.onloadend = function (e) {\n          // Get data\n          cb && cb(e.target.result)\n        }\n        reader.readAsDataURL(file)\n      }, function (e) {\n        console.log(e.message)\n      })\n    }, function (e) {\n      console.log('Resolve file URL failed: ' + e.message)\n    })\n  })\n}\n\nexport default getImgBase64\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/native/img-base64.js","import plusReady from '../../libs/plusReady.js'\nimport EXIF from 'exif-js'\nimport os from '../../libs/os.js'\nimport getImgBase64 from './img-base64.js'\n\n// 压缩图片\nfunction compressImage (max = '2000', src, cb) {\n  plusReady(() => {\n    getImgBase64(src, (data) => {\n      let img = {\n        src: data\n      }\n      EXIF.getData(img, function () {\n        var Orientation = EXIF.getTag(this, 'Orientation')\n        var rotate = 0\n        var width = 'auto'\n        var height = 'auto'\n        var Max = max + 'px'\n        console.log('旋转方向：' + Orientation)\n        if (os.ios) {\n          rotate = 0\n          switch (Orientation) {\n            case 1:\n              width = Max\n              break // 0°\n            case 6:\n              height = Max\n              break // 顺时针90°\n            case 8:\n              height = Max\n              break // 逆时针90°\n            case 3:\n              width = Max\n              break // 180°\n            default:\n              this.width / this.height > 1 ? (width = Max) : (height = Max)\n              break\n          }\n        } else if (os.android) {\n          switch (Orientation) {\n            case 1:\n              rotate = 0\n              width = Max\n              break // 0°\n            case 6:\n              rotate = 90\n              height = Max\n              break // 顺时针90°\n            case 8:\n              rotate = 270\n              height = Max\n              break // 逆时针90°\n            case 3:\n              rotate = 180\n              width = Max\n              break // 180°\n            default:\n              rotate = 0\n              this.width / this.height > 1 ? (width = Max) : (height = Max)\n              break\n          }\n        }\n        window.plus.zip.compressImage({ // 旋转图片\n          src: src,\n          dst: src,\n          width: width,\n          height: height,\n          quality: 90,\n          format: 'jpg',\n          rotate: rotate, // 旋转\n          overwrite: true\n        },\n        function (event) {\n          getImgBase64(event.target, (base64) => {\n            let data = {\n              src: `file://${event.target.replace}`,\n              base64: base64\n            }\n            cb && cb(data)\n          })\n        },\n        function (error) {\n          console.log(error.message)\n        })\n      })\n    })\n  })\n}\n\nexport default compressImage\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/native/compress-image.js","import plusReady from '../../libs/plusReady.js'\nimport compressImage from './compress-image.js'\nimport dateFormat from '../../tools/date/format.js'\n\nlet cmr = ''\nvar wt = ''\n/**\n   * [camera 拍照]\n   * @return {[type]}    [description]\n   */\nlet camera = {\n  /**\n   * [captureImage 拍照]\n   */\n  captureImage: function (max, cb, err) {\n    plusReady(() => {\n      // 获取摄像头管理对象\n      cmr = window.plus.camera.getCamera()\n      // 进行拍照操作\n      cmr.captureImage((path) => {\n        wt = window.plus.nativeUI.showWaiting('正在压缩图片...')\n        // 压缩图片\n        compressImage(max, path, (data) => {\n          wt.close()\n          cb && cb(data)\n        })\n      }, function (e) {\n        console.log('失败：' + e.message)\n        err && err(e)\n      }, {\n        filename: `_doc/camera/${dateFormat(new Date(), 'YYYY-MM-DD HH:mm:ss')}.jpg`,\n        index: 1\n      })\n    })\n  },\n  /**\n   * [close 结束拍照]\n   * @return {[type]} [description]\n   */\n  close: function () {\n    plusReady(() => {\n      cmr.stopVideoCapture()\n    })\n  }\n}\n\nexport default camera\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/native/camera.js","import plusReady from '../../libs/plusReady.js'\nimport Promise from 'bluebird'\nlet wt = ''\nlet upload = {\n  /**\n   * [upload 上传文件]\n   * @param  {[string]}   server [上传文件服务器地址]\n   * @param  {[string]}   path   [本地文件地址]\n   * @param  {[string]}   showWaiting   [显示等待窗]\n   * @param  {[string]}   closeWaiting   [关闭等待窗]\n   * @return {[obj]}          [Promise]\n   */\n  upload: function (server, path, num = '1/1', showWaiting = true, closeWaiting = true) {\n    return new Promise((resolve, reject) => {\n      plusReady(() => {\n        path = window.plus.io.convertAbsoluteFileSystem(path)\n        if (showWaiting) {\n          wt = window.plus.nativeUI.showWaiting('开始上传...')\n        }\n        var task = window.plus.uploader.createUpload(server, {\n          method: 'POST',\n          timeout: 10,\n          retry: 0\n        }, (data, status) => { // 上传完成\n          closeWaiting && wt.close()\n          if (status === 200) {\n            var state = JSON.parse(data.responseText)\n            var ret = state.ret || state.err\n            console.log('上传状态：' + ret)\n            task.abort() // 取消上传任务\n            resolve(state)\n          } else {\n            console.log('上传失败：' + data.responseText + '|' + status)\n            reject(data)\n          }\n        })\n        task.addFile(path, {\n          key: 'file.uploadFile'\n        })\n        task.addEventListener('statechanged', onStateChanged, false)\n        task.start()\n        // 监听上传任务状态\n        var i = 0\n        var progress = 0\n\n        function onStateChanged (upload, status) {\n          if (status !== 200) {\n            progress = Math.round(upload.uploadedSize / upload.totalSize * 100)\n            if (progress - i >= 5) {\n              i += progress - i\n              if (progress === 100) {\n                progress = 99.9\n              }\n              wt.setTitle(`${num}上传中...${progress}%`)\n            }\n          } else if (status === 200) {\n            wt.setTitle(`${num}上传中...100%`)\n          }\n        }\n      })\n    })\n  },\n  /**\n   * [batchUpload 批量上传文件]\n   * @param  {[string]}   server [上传文件服务器地址]\n   * @param  {[array]}   pathArray   [本地文件地址数组]\n   * @return {[obj]}          [Promise]\n   */\n  batchUpload: function (server, pathArray) {\n    return Promise.reduce(pathArray, (total, fileName, index, length) => {\n      if (fileName.src) {\n        return this.upload(server, fileName.src, `${index + 1}/${length}`, index === 0, index + 1 === length)\n          .then((contents) => {\n            total.push(Object.assign({}, pathArray[index], {'id': contents}))\n            return total\n          })\n      } else {\n        return total\n      }\n    }, [])\n      .then(function (total) {\n        return Promise.resolve(total)\n      }).catch((err) => {\n        return Promise.reject(err)\n      })\n  }\n}\n\nexport default upload\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/native/upload.js","import plusReady from '../../libs/plusReady.js'\nimport compressImage from './compress-image.js'\nimport getImgBase64 from './img-base64.js'\n\nvar wt = ''\n/**\n * [gallery 相冊]\n * @param  {[type]} cb  [ 回调函数]\n * @return {[type]}     [图片路径]\n */\nlet gallery = {\n  pick: function (cb, err, max = 720) {\n    plusReady(() => {\n      window.plus.gallery.pick(function (src) {\n        let type = src.slice(-3).toLowerCase()\n        if (type === 'jpg' || type === 'png') {\n          wt = window.plus.nativeUI.showWaiting('正在压缩图片...')\n          // 压缩图片\n          compressImage(max, src, (data) => {\n            wt.close()\n            cb && cb(data)\n          })\n        } else {\n          getImgBase64(src, (data) => {\n            cb && cb(data)\n          })\n        }\n      }, function (e) {\n        console.log('取消选择图片')\n      }, {filter: 'image', multiple: false})\n    })\n  }\n}\nexport default gallery\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/native/gallery.js","import push from './push.js'\nimport moveTaskToBack from './moveTaskToBack.js'\nimport update from './update.js'\nimport audio from './audio.js'\nimport pay from './pay.js'\nimport barcode from './barcode.js'\nimport camera from './camera.js'\nimport upload from './upload.js'\nimport geolocation from './geolocation.js'\nimport clip from './clip.js'\nimport gallery from './gallery.js'\nlet native = {\n  'push': push,\n  'moveTaskToBack': moveTaskToBack,\n  'update': update,\n  'audio': audio,\n  'pay': pay,\n  'barcode': barcode,\n  'camera': camera,\n  'upload': upload,\n  'geolocation': geolocation,\n  'clip': clip,\n  'gallery': gallery\n}\n\nexport default {\n  install (Vue) {\n    Vue.prototype.$native = native\n  },\n  native: native\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/native/index.js","import plusReady from '../../libs/plusReady.js'\nexport default function moveTaskToBack () {\n  plusReady(() => {\n    let main = window.plus.android.runtimeMainActivity()\n    main.moveTaskToBack(false)\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/native/moveTaskToBack.js","import plusReady from '../../libs/plusReady.js'\n/**\n * [geolocation 获取当前位置]\n * @param  {[type]} cb  [ 回调函数]\n * @param  {[type]} provider=\"baidu\" [需要使用的的定位提供者，默认百度]\n * @return {[type]}                  [定位信息]\n */\nlet geolocation = {\n  getCurrentPosition: function (cb, provider = 'baidu') {\n    plusReady(() => {\n      // [coords]: (Coordinates 类型 )地理坐标信息，包括经纬度、海拔、速度等信息\n      // [coordsType]: (String 类型 )获取到地理坐标信息的坐标系类型\n      // 可取以下坐标系类型： “gps”：表示WGS-84坐标系； “gcj02”：表示国测局经纬度坐标系； “bd09”：表示百度墨卡托坐标系； “bd09ll”：表示百度经纬度坐标系。\n      // [timestamp]: (Number 类型 )获取到地理坐标的时间戳信息\n      // 时间戳值为从1970年1月1日至今的毫秒数。\n      // [address]: (Address 类型 )获取到地理位置对应的地址信息\n      // 获取地址信息需要连接到服务器进行解析，所以会消耗更多的资源，如果不需要获取地址信息可通过设置PositionOptions参数的geocode属性值为false避免获取地址信息。 如果没有获取到地址信息则返回undefined。\n      // 平台支持\n      // Android - 2.3+ (支持): 使用系统定位模块无法获取位置信息。\n      // iOS - 5.1+ (支持): 系统定位模块也支持获取位置信息。\n      // [addresses]: (String 类型 )获取完整地址描述信息\n      // 如果没有获取到地址信息则返回undefined。\n      // 平台支持\n      // Android - 2.3+ (支持): 使用系统定位模块无法获取位置信息。\n      // iOS - 5.1+ (支持): 系统定位模块也支持获取位置信息。\n      window.plus.geolocation.getCurrentPosition(({coords, coordsType, timestamp, address, addresses}) => {\n        let data = {coords, coordsType, timestamp, address, addresses}\n        cb && cb(data)\n      }, (e) => {\n        window.plus.nativeUI.alert('定位错误: ' + e.message, function () {}, '错误', '确定')\n      }, {provider: provider})\n    })\n  }\n}\nexport default geolocation\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/native/geolocation.js","import plusReady from '../../libs/plusReady.js'\nimport os from '../../libs/os.js'\n/**\n * [geolocation 剪切板操作]\n * @param  {[type]} cb  [ 回调函数]\n * @return {[string]}   [字符串]\n */\nlet clip = {\n  get: function (cb) {\n    plusReady(() => {\n      let clipValue\n      if (os.android) {\n        // android\n        var Context = window.plus.android.importClass('android.content.Context')\n        var main = window.plus.android.runtimeMainActivity()\n        var clip = main.getSystemService(Context.CLIPBOARD_SERVICE)\n        clipValue = window.plus.android.invoke(clip, 'getText')\n      } else if (os.ios) {\n        // ios\n        var UIPasteboard = window.plus.ios.importClass('UIPasteboard')\n        var generalPasteboard = UIPasteboard.generalPasteboard()\n        clipValue = generalPasteboard.valueForPasteboardType('public.utf8-plain-text')\n        if (clipValue && (typeof (clipValue) !== 'string')) {\n          clipValue = clipValue.toString()\n        }\n      }\n      (clipValue && cb) && cb(clipValue)\n    })\n  },\n  set: function (val, cb) {\n    plusReady(() => {\n      if (os.android) {\n        // android\n        var Context = window.plus.android.importClass('android.content.Context')\n        var main = window.plus.android.runtimeMainActivity()\n        var clip = main.getSystemService(Context.CLIPBOARD_SERVICE)\n        window.plus.android.invoke(clip, 'setText', val)\n      } else if (os.ios) {\n        // ios\n        var UIPasteboard = window.plus.ios.importClass('UIPasteboard')\n        var generalPasteboard = UIPasteboard.generalPasteboard()\n        generalPasteboard.setValueforPasteboardType(val, 'public.utf8-plain-text')\n      }\n      cb && cb()\n    })\n  }\n}\nexport default clip\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/native/clip.js","/**\n * [VueEventHub 事件中心]\n * @param {[type]} Vue     [description]\n * @param {[type]} options [description]\n */\nfunction VueEventBus (Vue, options = {}) {\n  // 将在各处使用该事件中心\n  // 组件通过它来通信\n  // global 定义全局变量\n  var eventHub = new Vue()\n  // var config = {}\n  // var parameter = Object.assign(config, options)\n  // 注入组件\n  Vue.mixin({\n    mounted () {\n      var events = this.$options.eventBus || false\n      if (events) {\n        for (var eventName in events) {\n          if (typeof this.$options.eventBus[eventName] === 'string') {\n            eventHub.$on(eventName, this[this.$options.eventBus[eventName]].bind(this))\n          } else if (typeof this.$options.eventBus[eventName] === 'function') {\n            eventHub.$on(eventName, this.$options.eventBus[eventName].bind(this))\n          }\n        }\n      }\n    }\n  })\n  // 添加实例方法\n  Vue.prototype.$bus = (eventName, options) => {\n    eventHub.$emit(eventName, options)\n  }\n  var strategies = Vue.config.optionMergeStrategies\n  strategies.events = strategies.methods\n}\nif (typeof window !== 'undefined' && window.Vue) {\n  window.Vue.use(VueEventBus)\n}\nexport default {\n  install: VueEventBus\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/vue-event-bus/index.js","import {\n  mapState\n} from 'vuex'\n/**\n * [VueHook 在页面准备好了的时候触发钩子]\n * @param {[type]} Vue     [description]\n * @param {[type]} options [description]\n */\nfunction VueHook (Vue, options = {}) {\n  // 注入组件\n  Vue.mixin({\n    computed: {\n      ...mapState(['history'])\n    },\n    mounted () {\n      this.$nextTick(() => {\n        // ready页面准备完毕，只执行一遍\n        var ready = this.$options.ready\n        ready && ready.forEach((event) => {\n          event.bind(this)()\n        })\n      })\n    },\n    activated () {\n      if (this.history.direction === 'forward') {\n        if (this.$options.data && this.$options.reset) {\n          // 重置data\n          Object.assign(this.$data, this.$options.data.bind(this)())\n        }\n        let forward = this.$options.forward\n        forward && forward.forEach((event) => {\n          event.bind(this)()\n        })\n      } else if (this.history.direction === 'reverse') {\n        let back = this.$options.back\n        back && back.forEach((event) => {\n          event.bind(this)()\n        })\n      }\n    }\n  })\n  var strategies = Vue.config.optionMergeStrategies\n  strategies.ready = strategies.activated\n  strategies.forward = strategies.activated\n  strategies.back = strategies.activated\n}\n\nif (typeof window !== 'undefined' && window.Vue) {\n  window.Vue.use(VueHook)\n}\nexport default VueHook\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/vue-hook/index.js","export let warn = null\nexport let tip = null\nexport let generateComponentTrace = null\nexport let formatComponentName = null\n\nconst hasConsole = typeof console !== 'undefined'\nconst classifyRE = /(?:^|[-_])(\\w)/g\nconst classify = str => str\n  .replace(classifyRE, c => c.toUpperCase())\n  .replace(/[-_]/g, '')\n\nwarn = (msg, vm) => {\n  const trace = vm ? generateComponentTrace(vm) : ''\n  console.error(`[Vue warn]: ${msg}${trace}`)\n  return {msg, vm, trace}\n}\n\ntip = (msg, vm) => {\n  if (hasConsole) {\n    console.warn(`[Vue tip]: ${msg}` + (\n      vm ? generateComponentTrace(vm) : ''\n    ))\n  }\n}\n\nformatComponentName = (vm, includeFile) => {\n  if (vm.$root === vm) {\n    return '<Root>'\n  }\n  const options = typeof vm === 'function' && vm.cid != null\n    ? vm.options\n    : vm._isVue\n      ? vm.$options || vm.constructor.options\n      : vm || {}\n  let name = options.name || options._componentTag\n  const file = options.__file\n  if (!name && file) {\n    const match = file.match(/([^/\\\\]+)\\.vue$/)\n    name = match && match[1]\n  }\n\n  return (\n    (name ? `<${classify(name)}>` : `<Anonymous>`) +\n    (file && includeFile !== false ? ` at ${file}` : '')\n  )\n}\n\nconst repeat = (str, n) => {\n  let res = ''\n  while (n) {\n    if (n % 2 === 1) res += str\n    if (n > 1) str += str\n    n >>= 1\n  }\n  return res\n}\n\ngenerateComponentTrace = vm => {\n  if (vm._isVue && vm.$parent) {\n    const tree = []\n    let currentRecursiveSequence = 0\n    while (vm) {\n      if (tree.length > 0) {\n        const last = tree[tree.length - 1]\n        if (last.constructor === vm.constructor) {\n          currentRecursiveSequence++\n          vm = vm.$parent\n          continue\n        } else if (currentRecursiveSequence > 0) {\n          tree[tree.length - 1] = [last, currentRecursiveSequence]\n          currentRecursiveSequence = 0\n        }\n      }\n      tree.push(vm)\n      vm = vm.$parent\n    }\n    return '\\n\\nfound in\\n\\n' + tree\n      .map((vm, i) => `${\n        i === 0 ? '---> ' : repeat(' ', 5 + i * 2)\n      }${\n        Array.isArray(vm)\n          ? `${formatComponentName(vm[0])}... (${vm[1]} recursive calls)`\n          : formatComponentName(vm)\n      }`)\n      .join('\\n')\n  } else {\n    return `\\n\\n(found in ${formatComponentName(vm)})`\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/tools/debug.js","import FastClick from 'fastclick'\n\nimport vhPageAnimation from '../src/components/page-animation/index.vue'\nimport vhPage from '../src/components/page/index.vue'\nimport vhHeader from '../src/components/page/header.vue'\nimport vhScroller from '../src/components/scroller/index.vue'\n\n// import vhAjax from '../src/plugins/ajax/index.js'\nimport vhDevice from '../src/plugins/device/index.js'\nimport vhHistory from '../src/plugins/history/index.js'\nimport vhLog from '../src/plugins/log/index.js'\nimport vhNative from '../src/plugins/native/index.js'\nimport vhVueEventBus from '../src/plugins/vue-event-bus/index.js'\nimport vhVueHook from '../src/plugins/vue-hook/index.js'\n\nimport { warn } from '../src/tools/debug.js'\n\nFastClick.attach(document.body)\n\nconst components = [\n  vhPageAnimation,\n  vhPage,\n  vhHeader,\n  vhScroller\n]\n\nconst install = function (Vue, opts = {}) {\n  components.map(component => {\n    Vue.component(component.name, component)\n  })\n\n  Vue.use(vhVueEventBus)\n  // Vue.use(vhAjax)\n  Vue.use(vhVueHook)\n  Vue.use(vhNative)\n  Vue.use(vhLog)\n\n  if (opts.store) {\n    vhDevice(opts.store)\n    if (opts.router) vhHistory(opts.store, opts.router)\n  }\n\n  Vue.$log.init()\n\n  window.onerror = function (msg, url, line) {\n    console.error(msg)\n    Vue.$log.write({\n      'url': url,\n      'error': msg,\n      'line': line\n    })\n  }\n\n  Vue.config.errorHandler = (err, vm, info) => {\n    let warnMsg = warn(`Error in ${info}: \"${err.toString()}\"`, vm)\n    console.error(err)\n    if (vm) {\n      Vue.$log.write({\n        'trace': warnMsg.trace,\n        'error': warnMsg.msg\n      })\n    }\n  }\n\n  window.Promise.prototype.catch = function (rejected) {\n    return this.then(null, (err) => {\n      // console.error('Promise error:', err)\n      if (err) {\n        Vue.$log.write({\n          'error': err,\n          'remarks': 'Promise error'\n        })\n      }\n      rejected(err)\n    })\n  }\n}\n\nexport {\n  vhPageAnimation,\n  vhPage,\n  vhHeader,\n  vhScroller,\n  // vhAjax,\n  vhDevice,\n  vhHistory,\n  vhLog,\n  vhNative,\n  vhVueEventBus,\n  vhVueHook\n}\nexport default {\n  install\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import plusReady from '../../libs/plusReady.js'\nimport immersion from './immersion.js'\nimport os from '../../libs/os.js'\nexport default (store) => {\n  store.registerModule('device', {\n    state: {\n      os: '',\n      version: '',\n      navigation: {\n        height: 0\n      }\n    },\n    mutations: {\n      updateOs (state, payload) {\n        state.os = payload.os\n      },\n      updateNavigation (state, payload) {\n        state.navigation = payload.navigation\n      },\n      updateVersion (state, payload) {\n        state.version = payload.version\n      }\n    },\n    actions: {\n\n    }\n  })\n  let navigation = {\n    height: immersion()\n    // height:30\n  }\n  plusReady(() => {\n    window.plus.runtime.getProperty(window.plus.runtime.appid, (info) => {\n      store.commit('updateVersion', {'version': info.version})\n    })\n  })\n\n  store.commit('updateNavigation', {'navigation': navigation})\n  store.commit('updateOs', {'os': os})\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/device/index.js","export default (store, router) => {\n  store.registerModule('history', {\n    state: {\n      isLoading: false, // 是否加载\n      direction: 'forward', // 状态\n      firstOpen: true, // 第一次打开\n      record: [], // 浏览记录\n      activate: '/' // 当前路径\n    },\n    mutations: {\n      SET_LOADING_STATUS (state, payload) {\n        state.isLoading = payload.isLoading\n      },\n      SET_DIRECTION (state, payload) {\n        state.direction = payload.direction\n      },\n      SET_FIRST_OPEN (state, payload) {\n        state.firstOpen = payload.firstOpen\n      },\n      SET_RECORD (state, payload) {\n        state.record = payload.record\n      },\n      SET_ACTIVATE (state, payload) {\n        state.activate = payload.activate\n      }\n    },\n    actions: {\n      // 判断浏览前进后退\n      onHistory (context, payload) {\n        return context.dispatch('onHistoryRemove', payload)\n          .then((e) => {\n            if (e) {\n              if (payload.from.matched[1]) {\n                let record = context.state.record\n                record[record.length - 1].el = payload.from.matched[1].instances.default.$el\n                record[record.length - 1].instances = payload.from.matched[1].instances.default\n                context.commit('SET_RECORD', {record: record})\n              }\n              context.dispatch('onHistoryPush', {record: {\n                path: payload.to.path,\n                el: ''\n              }})\n              return Promise.resolve(true)\n            } else {\n              if (payload.from.path === '/') {\n                let record = context.state.record\n                context.commit('SET_RECORD', {record: record[0]})\n              }\n              return Promise.resolve(false)\n            }\n          })\n      },\n      // 添加一个浏览记录\n      onHistoryPush (context, payload) {\n        let record = context.state.record.concat()\n        record.push(payload.record)\n        context.commit('SET_RECORD', {record: record})\n      },\n      // 删除浏览记录\n      onHistoryRemove (context, payload) {\n        let subscript = ''\n        let record = context.state.record.concat()\n        for (var i in record) {\n          if (record[i].path === payload.to.path) {\n            subscript = Number(i) + 1\n            break\n          }\n        }\n        if (subscript !== '') {\n          record.splice(subscript, record.length - subscript)\n          context.commit('SET_RECORD', {record: record})\n          return Promise.resolve(false)\n        } else {\n          return Promise.resolve(true)\n        }\n      }\n    }\n  })\n\n  let firstOpen = true\n  //\n  router.beforeEach(function (to, from, next) {\n    if (!firstOpen) {\n      store.commit('SET_FIRST_OPEN', {firstOpen: false})\n    }\n    firstOpen = false\n    store.commit('SET_LOADING_STATUS', {isLoading: true})\n    store.dispatch('onHistory', {\n      to: to,\n      from: from\n    })\n      .then((e) => {\n        if (e) {\n          store.commit('SET_DIRECTION', {direction: 'forward'})\n        } else {\n          store.commit('SET_DIRECTION', {direction: 'reverse'})\n        }\n        next()\n      })\n  })\n\n  router.afterEach(function (to, from) {\n    store.commit('SET_LOADING_STATUS', {isLoading: false})\n    setTimeout(() => {\n      store.commit('SET_ACTIVATE', {activate: to.path})\n      // store.commit('SET_DIRECTION', {direction: ''})\n    }, 0)\n    if (process.env.NODE_ENV === 'production') {\n      // ga && ga('set', 'page', to.fullPath)\n      // ga && ga('send', 'pageview')\n    }\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/history/index.js","// 配置页面\nimport Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport {vhPageAnimation} from 'vue-hamal'\nVue.use(VueRouter)\n// 配置页面\nconst routes = [{\n  path: '',\n  component: vhPageAnimation,\n  children: [\n    {path: '/', component: () => import('@/demo/components/Hello-1.vue')},\n    {path: '/Hello-2', component: () => import('@/demo/components/Hello-2.vue')},\n    {path: '/Hello-3', component: () => import('@/demo/components/Hello-3.vue')}\n  ]\n}]\n\nexport default new VueRouter({\n  routes\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/demo/router/index.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5db43d2f\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/demo/App.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5db43d2f\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/demo/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n      <router-view></router-view>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'app',\n  mounted: function () {\n    this.$nextTick(function () {\n    })\n  },\n  data () {\n    return {}\n  },\n  computed: {\n  },\n  watch: {\n  },\n  methods: {\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/demo/App.vue","import 'babel-polyfill' // 配置es6补丁\nimport Vue from 'vue'\nimport router from '@/demo/router/index.js'\n\nimport vueHamal from 'vue-hamal'\nimport App from './App'\nimport FastClick from 'fastclick'\nimport * as consoleLog from '@/demo/assets/js/log.js'\n// import VueTouch from 'vue-touch'\nimport Vuex from 'vuex'\n\nVue.config.productionTip = false\nVue.config.errorHandler = (err, vm, info) => {\n  console.error('errorHandler:', err)\n  Vue.$log.write({\n    'error': err.message,\n    'hook': info\n  })\n}\nwindow.Promise.prototype.catch = function (onRejected) {\n  return this.then(null, (err) => {\n    console.error('prototype:', err.message)\n    if (err.message) {\n      Vue.$log.write({\n        'error': err.message,\n        'remarks': 'Promise error'\n      })\n    }\n    onRejected(err)\n  })\n}\nconsoleLog.buddha()\n// 删除点击延时\nFastClick.attach(document.body)\nVue.use(Vuex)\nlet store = new Vuex.Store({\n  strict: false\n})\n\nVue.use(vueHamal, {\n  store: store,\n  router: router\n})\n\nVue.$log.init()\nwindow.onerror = function (msg, url, line) {\n  console.error('onerror:', msg)\n  Vue.$log.write({\n    'url': url,\n    'error': msg,\n    'line': line\n  })\n}\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  // render: h => h(App),\n  template: '<App/>',\n  components: { App },\n  router,\n  store\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/demo/main.js","\nfunction buddhaLine () {\n  console.log([\n    '%c———————————————————————————————————————————————————————————',\n    '|--------------------------_ooOoo_------------------------|',\n    '|------------------------o888888888o----------------------|',\n    '|------------------------88\"\" . \"\"88----------------------|',\n    '|------------------------(|  - -  |)----------------------|',\n    '|------------------------0\\\\   =   /0----------------------|',\n    \"|------------------------_/` --- '\\\\____-------------------|\",\n    \"|-------------------.'  \\\\\\\\|       |//  `. ----------------|\",\n    '|------------------/  \\\\\\\\|||   :   |||//  \\\\ ---------------|',\n    '|---------------- /  _|||||  -:-  |||||-  \\\\---------------|',\n    '|---------------- |   | \\\\\\\\\\\\   -   /// |   |---------------|',\n    \"|---------------- | \\\\_|  ``\\\\ --- /''  |   |---------------|\",\n    \"|---------------- \\\\  .-\\\\__   `-'   ___/-. / --------------|\",\n    \"|--------------___ `. . '  /--.--\\\\  '. . __---------------|\",\n    \"|-----------.\\\"\\\"  '<  `.___ \\\\_<|>_/___.'  >'\\\"\\\". -----------|\",\n    '|----------| | :   `- \\\\`.;` \\\\ _ /`;.`/ - ` : | |----------|',\n    '|----------\\\\  \\\\ `-.    \\\\_  __\\\\ /__ _/   .-` /  /----------|',\n    \"|===========`-.____`-.___ \\\\______/___.-`____.-'===========|\",\n    \"|--------------------------`=---='------------------------|\",\n    '|^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^|',\n    '|------佛祖保留 ------------永无BUG------------永不修改-----|',\n    '|-----------------------------*---------------------------|',\n    '|-----------------------------*---------------------------|',\n    '|-----------------------------*---------------------------|',\n    '|----------------------- 初始化成功！----------------------|',\n    '|-----------------------------*---------------------------|',\n    '|-----------------------------*---------------------------|',\n    '|-----------------------------*---------------------------|',\n    '|---------------------- 不修改属性激活 --------------------|',\n    '———————————————————————————————————————————————————————————'\n  ].join('\\n'), 'color: #FAFAD2;background: #000000')\n}\nfunction buddha () {\n  console.log([\n    '%c                   _ooOoo_                   ',\n    '                  o8888888o                  ',\n    '                  88\" . \"88                  ',\n    '                  (| -_- |)                  ',\n    '                  O\\\\  =  /O                  ',\n    \"               ____/`---'\\\\____               \",\n    \"             .'  \\\\\\\\|     |//  `.             \",\n    '            /  \\\\\\\\|||  :  |||//  \\\\            ',\n    '           /  _||||| -:- |||||-  \\\\           ',\n    '           |   | \\\\\\\\\\\\  -  /// |   |           ',\n    \"           | \\\\_|  ''\\\\---/''  |   |           \",\n    '           \\\\  .-\\\\__  `-`  ___/-. /           ',\n    \"         ___`. .'  /--.--\\\\  `. . __          \",\n    \"      .\\\"\\\" '<  `.___\\\\_<|>_/___.'  >'\\\"\\\".       \",\n    '     | | :  `- \\\\`.;`\\\\ _ /`;.`/ - ` : | |     ',\n    '     \\\\  \\\\ `-.   \\\\_ __\\\\ /__ _/   .-` /  /     ',\n    \"======`-.____`-.___\\\\_____/___.-`____.-'======\",\n    \"                   `=---='                   \",\n    '^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^',\n    '           佛祖保佑         永无BUG           '\n  ].join('\\n'), 'color: #FFD700;background: #000000')\n}\n\nexport {buddhaLine, buddha}\n\n\n\n// WEBPACK FOOTER //\n// ./src/demo/assets/js/log.js","/**\n * 对Date的扩展，将 Date 转化为指定格式的String\n * 月(M)、日(d)、12小时(h)、24小时(H)、分(m)、秒(s)、周(E)、季度(q) 可以用 1-2 个占位符\n * 年(y)可以用 1-4 个占位符，毫秒(S)只能用 1 个占位符(是 1-3 位的数字)\n * eg:\n * (\"yyyy-MM-dd hh:mm:ss.S\") ==> 2006-07-02 08:09:04.423\n * (\"yyyy-MM-dd E HH:mm:ss\") ==> 2009-03-10 二 20:09:04\n * (\"yyyy-MM-dd EE hh:mm:ss\") ==> 2009-03-10 周二 08:09:04\n * (\"yyyy-MM-dd EEE hh:mm:ss\") ==> 2009-03-10 星期二 08:09:04\n * (\"yyyy-M-d h:m:s.S\") ==> 2006-7-2 8:9:4.18\n */\nmodule.exports = function (date, fmt = 'YYYY-MM-DD HH:mm:ss') {\n  if (!date) {\n    return ''\n  }\n  if (typeof date === 'string') {\n    date = new Date(date.replace(/-/g, '/'))\n  }\n  if (typeof date === 'number') {\n    date = new Date(date)\n  }\n  var o = {\n    'M+': date.getMonth() + 1,\n    'D+': date.getDate(),\n    'h+': date.getHours() % 12 === 0 ? 12 : date.getHours() % 12,\n    'H+': date.getHours(),\n    'm+': date.getMinutes(),\n    's+': date.getSeconds(),\n    'q+': Math.floor((date.getMonth() + 3) / 3),\n    'S': date.getMilliseconds()\n  }\n  var week = {\n    '0': '\\u65e5',\n    '1': '\\u4e00',\n    '2': '\\u4e8c',\n    '3': '\\u4e09',\n    '4': '\\u56db',\n    '5': '\\u4e94',\n    '6': '\\u516d'\n  }\n  if (/(Y+)/.test(fmt)) {\n    fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length))\n  }\n  if (/(E+)/.test(fmt)) {\n    fmt = fmt.replace(RegExp.$1, ((RegExp.$1.length > 1) ? (RegExp.$1.length > 2 ? '\\u661f\\u671f' : '\\u5468') : '') + week[date.getDay() + ''])\n  }\n  for (var k in o) {\n    if (new RegExp('(' + k + ')').test(fmt)) {\n      fmt = fmt.replace(RegExp.$1, (RegExp.$1.length === 1) ? (o[k]) : (('00' + o[k]).substr(('' + o[k]).length)))\n    }\n  }\n  return fmt\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/tools/date/format.js"],"sourceRoot":""}